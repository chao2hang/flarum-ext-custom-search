(()=>{var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};(()=>{"use strict";const t=flarum.core.compat["forum/app"];var n=e.n(t);const o=flarum.core.compat["common/extend"],r=flarum.core.compat["forum/components/Search"];var c=e.n(r);const a=flarum.core.compat["common/components/Select"];var s=e.n(a);const i=flarum.core.compat["common/utils/ItemList"];var l=e.n(i);const u=flarum.core.compat["common/helpers/icon"];var p=e.n(u);n().initializers.add("nopj/custom-search",function(){(0,o.extend)(c().prototype,"oninit",function(){this.searchEngine="bing"}),(0,o.override)(c().prototype,"view",function(e){var t=this,n=e(),o=n.children.find(function(e){return e&&e.attrs&&e.attrs.className&&e.attrs.className.includes("Search-input")});return o&&(Array.isArray(o.children)||(o.children=[o.children]),o.children.unshift(m("div",{className:"Search-engine-selector"},m(s(),{options:{google:"Google",bing:"Bing"},value:this.searchEngine,onchange:function(e){t.searchEngine=e,m.redraw()}}))),o.children.push(m("button",{className:"Button Button--link Search-button",onclick:function(e){e.preventDefault(),t.selectResult()},type:"button"},p()("fas fa-search")))),n}),(0,o.override)(c().prototype,"selectResult",function(e){var t=this.searchState.getValue();if(t&&!(t.length<1)){var o=new URL(n().forum.attribute("baseUrl")).hostname,r={google:"https://www.google.com/search?q=site:"+o+"%20"+encodeURIComponent(t),bing:"https://www.bing.com/search?q=site:"+o+"%20"+encodeURIComponent(t)};window.open(r[this.searchEngine],"_blank"),this.clear(),this.$("input").blur()}}),(0,o.override)(c().prototype,"sourceItems",function(){return new(l())})})})(),module.exports={}})();
//# sourceMappingURL=forum.js.map